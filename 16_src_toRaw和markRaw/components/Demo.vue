<template>
  <h1>Demo ç»„ä»¶ï¼šæ±‚å’Œ</h1>
  <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>
  <button @click="sum++">ç‚¹å‡»++âš”ï¸âš”ï¸âš”ï¸</button>
  <hr>
  <h2>å½“å‰çš„ä¿¡æ¯ä¸ºï¼š{{msg}}</h2>
  <button @click="msg+='ğŸ¤¡'">ç‚¹å‡»æ·»åŠ å°ä¸‘</button>
  <hr>
  <h2>åï¼š{{name}}</h2>
  <h2>å¹´é¾„ï¼š{{age}}</h2>
  <h2>èŒä¸šï¼š{{job.place}}</h2>
  <button @click="name+='ğŸ‘¹'">ç‚¹å‡»æ”¹åå­—</button>
  <button @click="age++">ç‚¹å‡»æ”¹å¹´é¾„</button>
  <button @click="job.place+='ğŸ³'">ç‚¹å‡»æ”¹èŒä¸š</button>
  <button @click="showRawPerson">å±•ç¤ºåŸå§‹äºº</button>
  <button @click="addX">å˜åªè¯»</button>
  <h2>{{person.x}}</h2>
  <hr>
</template>

<script>
import { ref, toRefs, reactive, toRaw, readonly, markRaw } from 'vue'
export default {
  name: 'Demo',
  setup() {
    // æ•°æ®
    let sum = ref(0)
    let msg = ref('ä½ å¥½å•ŠğŸŸğŸ”ğŸ³')
    let person = reactive({ name: 'ææ˜Ÿäº‘', age: 19, job: { place: 'æ±Ÿæ¹–' } })

    function showRawPerson() {
      const p = toRaw(person)
      p.age++
      console.log(p);
    }

    function addX() {
      let x = { x: 100 }
      person.x = markRaw(x)
    }
    
    return {
      sum,
      msg,
      person,
      ...toRefs(person),
      showRawPerson,
      addX
    }  

  },
}
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
